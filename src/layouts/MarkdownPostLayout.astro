---
import BaseLayout from "./BaseLayout.astro";
const allPosts = await Astro.glob('../pages/posts/*.md');
console.log(allPosts);
const {frontmatter} = Astro.props;
---

<BaseLayout pageTitle={frontmatter.title}>
        <div>
            <p>Written by {frontmatter.author}</p>
            <p>Published on {frontmatter.pubDate.slice(0,10)}</p>
            <p><em>{frontmatter.description}</em></p>
            <p>Written by: {frontmatter.author}</p>
            <img src={frontmatter.image.url} width="300" alt={frontmatter.image.alt} />
            <slot />
        </div>
        <ul class="post-links">
            <!-- <li><a href="/posts/post-1">Post 1</a></li>
            <li><a href="/posts/post-2">Post 2</a></li>
            <li><a href="/posts/post-3">Post 3</a></li> -->
    
            {allPosts.map((post)=> <li><a href={post.url}>{post.frontmatter.title}</a></li>)}
        </ul>
</BaseLayout>